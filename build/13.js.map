{"version":3,"sources":["../../src/pages/item-detail/item-detail.module.ts","../../src/pages/item-detail/item-detail.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAyC;AACa;AACN;AAED;AACQ;AAevD;IAAA;IAAoC,CAAC;IAAxB,oBAAoB;QAbhC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,oEAAc;aACf;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,oEAAc,CAAC;gBACxC,4EAAe,CAAC,QAAQ,EAAE;gBAC1B,wEAAW;aACZ;YACD,OAAO,EAAE;gBACP,oEAAc;aACf;SACF,CAAC;OACW,oBAAoB,CAAI;IAAD,2BAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;ACpBS;AACmE;AACtD;AACf;AACM;AAM9C;IAYE,wBAAmB,GAAQ,EAAS,OAAsB,EAAE,SAAoB,EAAS,KAAY,EAAS,WAA8B,EACnI,SAAyB,EACxB,SAA2B,EAAU,QAAwB;QAFpD,QAAG,GAAH,GAAG,CAAK;QAAS,YAAO,GAAP,OAAO,CAAe;QAA+B,UAAK,GAAL,KAAK,CAAO;QAAS,gBAAW,GAAX,WAAW,CAAmB;QACnI,cAAS,GAAT,SAAS,CAAgB;QACxB,cAAS,GAAT,SAAS,CAAkB;QAAU,aAAQ,GAAR,QAAQ,CAAgB;QANvE,eAAU,GAAY,KAAK,CAAC;QAE5B,eAAU,GAAQ,IAAI,CAAC;QAKrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAChD,CAAC;QAED,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAClC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;YACpE,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;YACxC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC;YACnC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YACrC,CAAC;YACD,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzC,CAAC;IACH,CAAC;IAED,wCAAe,GAAf;QAAA,iBAYC;QAXC,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAClD,GAAG,CAAC,SAAS,CAAC,UAAC,GAAQ;YACrB,wEAAwE;YACxE,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;gBACvB,MAAM,CAAC,IAAI,CAAC;YACd,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YACpC,CAAC;QACH,CAAC,EAAE,aAAG;YACJ,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oCAAW,GAAX;QAAA,iBA0BC;QAzBC,IAAI,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC;QAEtD,iBAAiB,CAAC,OAAO,CAAC,UAAC,KAAK;YAC9B,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,KAAK;YAC5B,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC9C,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;YAC3B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpD,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;oBACxB,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACxB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACP,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;gBAC1B,CAAC;YACJ,CAAC;YACD,KAAK,CAAC,cAAc,GAAG,EAAE,CAAC;YAC1B,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,UAAU,KAAK,KAAK,CAAC,CAAC,CAAC;gBAClC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;YACrC,CAAC;YAGD,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iCAAQ,GAAR,UAAS,MAAM;QAAf,iBAkBC;QAjBC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,mDAA+C;SACzD,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC;QAClB,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAC,EAAE,EAAE,MAAM,EAAC,CAAC,CAAC,KAAK,EAAE,CAAC;QACvD,GAAG,CAAC,SAAS,CAAC,UAAC,GAAQ;YACrB,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC;YAChB,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,IAAI,CAAC,aAAa,IAAI,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC;YACpE,KAAI,CAAC,UAAU,GAAG,CAAC,KAAI,CAAC,IAAI,CAAC,UAAU,CAAC;YACxC,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,UAAU,CAAC;YACnC,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACvB,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;YACrC,CAAC;YACD,KAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC,EAAE,aAAG;QACN,CAAC,EAAE,cAAQ,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC;IAED,qCAAY,GAAZ,UAAa,QAAQ;QACnB,IAAI,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACjD,EAAE,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAChC,CAAC;QAAC,IAAI,CAAC,CAAC;YACP,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QACrC,CAAC;IACJ,CAAC;IAED,yCAAgB,GAAhB;QAAA,iBA6BC;QA5BC,IAAI,IAAI,GAAG,EAAC,SAAS,EAAG,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,SAAS,EAAG,IAAI,CAAC,UAAU,EAAC,CAAC;QACnE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACvC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;gBAChD,OAAO,EAAE,CAAC;wBACR,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC;wBACrC,IAAI,EAAE,QAAQ;qBACf,CAAC;aACH,CAAC,CAAC;YACH,YAAY,CAAC,OAAO,EAAE,CAAC;YACvB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,mDAA+C;SACzD,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC;QAClB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;QAC5D,GAAG,CAAC,SAAS,CAAC,UAAC,GAAQ;YACrB,wEAAwE;YACxE,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC;gBACpB,KAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;YAC9B,CAAC;YACD,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACrB,CAAC,EAAE,aAAG;YACJ,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;QAC9B,CAAC,EAAE,cAAQ,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC;IAED,mCAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,KAAK,KAAK,CAAC;IACxC,CAAC;IACD,mCAAU,GAAV;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;IACtC,CAAC;IAED,kCAAS,GAAT;QAAA,iBAoBC;QAnBC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAClB,IAAI,IAAI,GAAG,EAAC,SAAS,EAAG,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,UAAU,EAAG,IAAI,CAAC,QAAQ,EAAC,CAAC;YAElE,IAAI,SAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBACpC,OAAO,EAAE,MAAM;gBACf,OAAO,EAAE,mDAA+C;aACzD,CAAC,CAAC;YACH,SAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;YACrD,GAAG,CAAC,SAAS,CAAC,UAAC,GAAQ;gBACrB,wEAAwE;gBACxE,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBACpB,KAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;gBAC9B,CAAC;gBACD,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;YACrB,CAAC,EAAE,aAAG;gBACJ,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;YAC9B,CAAC,EAAE,cAAQ,SAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,CAAC;IACL,CAAC;IACD,0CAAiB,GAAjB;QACE,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAC,KAAK;YAC7B,IAAI,EAAE,GAAG,IAAI,CAAC;YACd,EAAE,CAAC,CAAC,OAAO,KAAK,CAAC,EAAE,KAAK,QAAQ,IAAI,KAAK,CAAC,EAAE,YAAY,MAAM,CAAC,CAAC,CAAC;gBAC/D,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YAClC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC;YAChB,CAAC;YACD,EAAE,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;YACpB,KAAK,IAAI,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QAC3B,IAAI,IAAI,GAAG,EAAC,SAAS,EAAG,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAC,CAAC;QAEnE,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpC,OAAO,EAAE,MAAM;YACf,OAAO,EAAE,mDAA+C;SACzD,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC;QAClB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;QAC1D,GAAG,CAAC,SAAS,CAAC,UAAC,GAAQ;QAEvB,CAAC,EAAE,aAAG;YACJ,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;QAC9B,CAAC,EAAE,cAAQ,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,qCAAqC;QACrC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC1B,CAAC;IAED,+BAAM,GAAN;QACE,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,qCAAqC;IACvC,CAAC;IA9MU,cAAc;QAJ1B,wEAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;WACG;SAChC,CAAC;mFAa4I;YACzH,6EAAe;YACb,WAAkD;OAd5D,cAAc,CAkN1B;IAAD,CAAC;AAAA;SAlNY,cAAc,gB","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ItemDetailPage } from './item-detail';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    ItemDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ItemDetailPage),\n    TranslateModule.forChild(),\n    PipesModule\n  ],\n  exports: [\n    ItemDetailPage\n  ]\n})\nexport class ItemDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController, ViewController } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Items } from '../../providers';\nimport { Api } from '../../providers/api/api';\n@IonicPage()\n@Component({\n  selector: 'page-item-detail',\n  templateUrl: 'item-detail.html'\n})\nexport class ItemDetailPage {\n  item: any;\n  periods: any;\n  periodsids: any;\n  cansubscribe: any;\n  disabledtg: any;\n  disabledbtn: any;\n  classloading: boolean;\n  showmonths: boolean = false;\n  nb_hours: number;\n  parentPage: any = null;\n\n  constructor(public api: Api, public navCtrl: NavController, navParams: NavParams, public items: Items, public loadingCtrl: LoadingController,\n    public alertCtrl:AlertController,\n    private translate: TranslateService, private viewCtrl: ViewController) {\n    this.item = null;\n    this.periods = [];\n    this.periodsids = [];\n    this.cansubscribe = false;\n    this.disabledtg = false;\n    this.disabledbtn = false;\n    this.classloading = false;\n    this.nb_hours = null;\n    if (navParams.get('parentPage')) {\n      this.parentPage = navParams.get('parentPage');\n    }\n\n    if (navParams.get('item')) {\n      this.item = navParams.get('item');\n      this.cansubscribe = this.item.can_subscribe || this.item.can_modify;\n      this.disabledtg = !this.item.can_modify;\n      this.disabledbtn = this.disabledtg;\n      if (this.item.nb_hours) {\n        this.nb_hours = this.item.nb_hours;\n      }\n      this.loadPeriods();\n    } else if (navParams.get('itemid')) {\n      this.classloading = true;\n      this.loadItem(navParams.get('itemid'));\n    }\n  }\n\n  ionViewCanEnter(){\n    let seq = this.api.post('checktoken', []).share();\n    seq.subscribe((res: any) => {\n      // If the API returned a successful response, mark the user as logged in\n      if (res.error !== true) {\n        return true;\n      } else {\n        this.navCtrl.setRoot('LoginPage');\n      } \n    }, err => {\n      this.navCtrl.setRoot('LoginPage');\n    });\n  }\n\n  loadPeriods() {\n    let datessubscription = this.item.dates_subscriptions;\n\n    datessubscription.forEach((value) => {\n      this.periodsids.push(value.id_period);\n    });\n\n    this.item.dates.forEach((value) => {\n      if (this.item.dates_subscriptions.length == 0) {\n        value.subscribed = false;\n      } else {\n        if (this.periodsids.indexOf(value.id_period) !== -1) {\n          value.subscribed = true;\n          value.disabled = false;\n         } else {\n          value.subscribed = false;\n         }\n      }\n      value.disabledtoggle = '';\n      if (this.item.can_modify === false) {\n         value.disabledtoggle = 'disabled';\n      }\n      \n      \n      this.periods.push(value);\n    });\n  }\n\n  loadItem(itemid) {\n    let loading = this.loadingCtrl.create({\n      spinner: 'hide',\n      content: `<img src=\"assets/svg/bars.svg\" width=\"100%\"/>`,\n    });\n    loading.present();\n    let seq = this.items.querydetail({id: itemid}).share();\n    seq.subscribe((res: any) => {\n      this.item = res;\n      this.cansubscribe = this.item.can_subscribe || this.item.can_modify;\n      this.disabledtg = !this.item.can_modify;\n      this.disabledbtn = this.disabledtg;\n      if (this.item.nb_hours) {\n        this.nb_hours = this.item.nb_hours;\n      }\n      this.loadPeriods();\n    }, err => {\n    }, () => { loading.dismiss(); });\n  }\n\n  togglePeriod(periodid) {\n    let position = this.periodsids.indexOf(periodid);\n    if (position == -1) {\n      this.periodsids.push(periodid);\n     } else {\n      this.periodsids.splice(position, 1);\n     }\n  }\n\n  sendSubscription() {\n    var data = {'eventid' : this.item.id, 'periods' : this.periodsids};\n    if (this.periodsids.length == 0) {\n      let confirmAlert = this.alertCtrl.create({\n        message: this.translate.instant('WARNINGPERIOD'),\n        buttons: [{\n          text: this.translate.instant('CLOSE'),\n          role: 'cancel'\n        }]\n      });\n      confirmAlert.present();\n      return;\n    }\n    \n    let loading = this.loadingCtrl.create({\n      spinner: 'hide',\n      content: `<img src=\"assets/svg/bars.svg\" width=\"100%\"/>`\n    });\n    loading.present();\n    let seq = this.api.post('api/subscribeevent', data).share();\n    seq.subscribe((res: any) => {\n      // If the API returned a successful response, mark the user as logged in\n      if (this.parentPage) {\n        this.parentPage.loadItems();\n      }\n      this.navCtrl.pop();\n    }, err => {\n      console.error('ERROR', err);\n    }, () => { loading.dismiss(); });\n  }\n\n  isDisabled() {\n    return this.item.can_modify === false;\n  }\n  showMonths(): void {\n    this.showmonths = true;\n    this.viewCtrl.showBackButton(false);\n  }\n\n  sendHours() {\n    if (this.nb_hours) {\n      var data = {'eventid' : this.item.id, 'nb_hours' : this.nb_hours};\n    \n      let loading = this.loadingCtrl.create({\n        spinner: 'hide',\n        content: `<img src=\"assets/svg/bars.svg\" width=\"100%\"/>`\n      });\n      loading.present();\n      let seq = this.api.post('api/nbhours', data).share();\n      seq.subscribe((res: any) => {\n        // If the API returned a successful response, mark the user as logged in\n        if (this.parentPage) {\n          this.parentPage.loadItems();\n        }\n        this.navCtrl.pop();\n      }, err => {\n        console.error('ERROR', err);\n      }, () => { loading.dismiss(); });\n      }\n  }\n  savehourspermonth() {\n    var total = 0;\n    this.item.months.forEach((value) => {\n      var nb = null;\n      if (typeof value.nb === 'string' || value.nb instanceof String) {\n        nb = value.nb.replace(\",\", \".\");\n      } else {\n        nb = value.nb;\n      }\n      nb = parseFloat(nb);\n      total += nb;\n    });\n    this.item.nb_hours = total;\n    var data = {'eventid' : this.item.id, 'months' : this.item.months};\n    \n    let loading = this.loadingCtrl.create({\n      spinner: 'hide',\n      content: `<img src=\"assets/svg/bars.svg\" width=\"100%\"/>`\n    });\n    loading.present();\n    let seq = this.api.post('api/nbhoursmonth', data).share();\n    seq.subscribe((res: any) => {\n\n    }, err => {\n      console.error('ERROR', err);\n    }, () => { loading.dismiss(); });\n    //this.viewCtrl.showBackButton(true);\n    this.showmonths = false;\n  }\n\n  cancel() {\n    this.showmonths = false;\n    //this.viewCtrl.showBackButton(true);\n  }\n\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.ts"],"sourceRoot":""}